<?xml version="1.0" encoding="utf-8"?>
<openerp>
  	<data>

    <!-- PRODUCT PRICES TREE -->
    <record model="ir.ui.view" id="product_product_tree_view_calculate_price">
    	<field name="name">product.product.tree.prices</field>
    	<field name="model">product.product</field>
    	<field name="priority" eval="17"/>
    	<field name="arch" type="xml">
        	<tree string="Products" editable="bottom">
                <field name="name" readonly="1"/>
                <field name="standard_price"/>
                <field name="target_margin"/>
                <field name="price_cal"/>


            </tree>
        </field>
    </record>
    
    <record model="ir.ui.view" id="product_product_tree_view_calculate_price">
        <field name="name">calculated,price.product.form</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
       <xpath expr="//field[@name='list_price']" position="after">
                    <field name="standard_price"/>
                    <field name="target_margin"/>
                    <field name="price_cal" readonly="1"/>
                    
            </xpath>

        </field>
    </record>
    
    
    <!-- PRODUCT PRICES ACTION, MENU -->
    <record id="action_product_product_calc_price" model="ir.actions.act_window">
    	<field name="name">Reference Prices</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">product.product</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_filter_to_sell':True}</field>
        <field name="view_id" ref="product_product_tree_view_calculate_price"/>
        <field name="search_view_id" ref="calc_price_search_form_view"/>
    </record>
    
    <menuitem id="menu_product_product_price" action="action_product_product_calc_price" parent="base.menu_product" />
  	</data>
  	
</openerp>
